@import "../../scss/vars";

.search-container {
  background-color: white;
  margin-bottom: 1rem;

  .initial-main {
    padding-top: 25%;
    max-width: 1600px;
    @media screen and(min-width: $sm-breakpoint){
      margin-left: 100px;
      margin-right: 100px;
      padding-top: 10%;
    }
    @media screen and(min-width: 600px){
      margin-left: 60px;
      margin-right: 60px;
    }

    .landing-title {
      font-family: CHOpenSans;
      font-size: 2rem;
      font-weight: $font-weight-light;
      color: $orange-strong;
      display: table;
      margin: 0 auto;

      @media screen and(min-width: $md-breakpoint) {
        font-size: 3rem;
        height: 59px;
        padding: 0 5px;
      }

      @media screen and(min-width: $lg-breakpoint) {
        font-size: 4rem;
        height: 59px;
        padding: 0 5px;
      }
    }

    .landing-subtitle {
      font-family: CHOpenSans;
      font-size: 0.7rem;
      font-weight: $font-weight-light;
      color: $gray-text;
      display: table;
      margin: 0 auto;
      margin-bottom: 30px;
      text-align: center;

      @media screen and(min-width: $md-breakpoint) {
        font-size: 0.9rem;
        height: 59px;
        padding: 0 5px;
      }

      @media screen and(min-width: $lg-breakpoint) {
        font-size: 1.2rem;
        height: 59px;
        padding: 0 5px;
      }
    }
  }

  .loaded {
    background-color: #f4f4f4;
    .row {
      @include search-box-padding();
    }
  }
  .main {
    background-color: #ffffff;
    .row { @include search-box-padding();}
  }
  .compare {
    padding-top: 10px;
  }

  .progress-indicator {
    float: right;
    margin-left: 10px;
    width: 32px;
    height: 32px;
    margin-top: 4px;
  }

  .summary-container{
    margin-bottom: 15px;
    &.filters-visible {
      border-top: 2px solid $gray-divider-light;
    }

    .summary {
      width: 100%;
      float: left;
      font-size: 14px;
      font-weight: 100;
      font: CHOpenSans;
      color: $gray-text;
      padding: 18px 0px 5px 0px;

      .row {
        @include search-box-padding();
      }

      .message {
        @media (min-width: $md-breakpoint){
          text-align: right;
        }
      }
      .posts-analyzed {
        float: left;
        strong.card-volume {
          font-size: 16px;
          font-style: normal;
          font-weight: 600;
          color: $orange-strong !important;
          padding-right: 6px;
        }
      }
    }

    // .filter-buttons {
    //   float: right;
    //   @media screen and(max-width: $lg-breakpoint){
    //     padding-top: 5px;
    //   }
    //   button {
    //     &.apply {
    //       margin-left: 10px;
    //     }
    //
    //     .show-hide-filter-button-container {
    //       display: inline-flex;
    //       height: 5px;
    //       .left-span {
    //         float: right;
    //         display: block;
    //         position: relative;
    //         padding-right: 18px;
    //         margin-left: -2px;
    //         &:after {
    //           content: ' ';
    //           position: absolute;
    //           right: 0;
    //           top: 7px;
    //           width: 9px;
    //           height: 5px;
    //           border-radius: 2px;
    //           border-left: 5px solid transparent;
    //           border-right: 5px solid transparent;
    //         }
    //       }
    //       &.open .left-span:after{
    //         top: 7px;
    //         border-bottom: 5px solid $gray-dark;
    //       }
    //       &.closed .left-span:after{
    //         border-top: 5px solid $gray-dark;
    //       }
    //
    //       .filter-icon {
    //         opacity: 0.5;
    //         @media all and (min-width: $sm-breakpoint){
    //           margin-right: 10px;
    //         }
    //         display: inline-block;
    //       }
    //     }
    //
    //     &:hover .show-hide-filter-button-container {
    //       &.open .left-span:after{
    //         border-bottom: 5px solid white;
    //       }
    //       &.closed .left-span:after{
    //         border-top: 5px solid white;
    //       }
    //     }
    //
    //     &.selected {}
    //   }
    // }
  }

  .search-box {
    border-bottom: 3px solid #f4f4f4;
    position: relative;
    width: 100%;

    .search-input {
      width: auto;
    }

    .search-clear {
      margin-right: 12px;
    }

    .search-button {
      width: 30px;
      height: 30px;
      margin-left: 13px;
      margin-right: 10px;
      fill: #bdbebf;
      padding: 0px;
      cursor: pointer;
      &:hover {
        fill: #78797c;
      }

      @media screen and (min-width: $sm-breakpoint){
        width: 45px;
        height: 45px;
        background-size: 45px 45px;
      }

      @media screen and (min-width: $md-breakpoint){
        width: 45px;
        height: 45px;
        background-size: 45px 45px;
      }

      @media screen and (min-width: $tablet-horizontal){
        width: 70px;
        height: 70px;
        background-size: 70px 70px;
        margin-bottom: 5px;
      }
    }

    input.form-control {
      color: $turquoise;
      overflow: hidden;
      outline: none;
      box-shadow: none;
      resize: none;
      -webkit-box-shadow: none;
      -moz-box-shadow: none;
      border: none;
      background-color: transparent;
      font-weight: $font-weight-light;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      &::-ms-clear {
        width : 0;
        height: 0;
      }

      @media screen and(min-width: $iphone5-breakpoint){
        width: 82%;
      }

      @media screen and(min-width: $iphone6-breakpoint){
        width: 90%;
      }

      @media screen and(min-width: $md-breakpoint) {
        font-size: 2rem;
        text-overflow: clip;
      }

      @media screen and (max-width: $md-breakpoint) and (min-width: $sm-breakpoint + 1px) {
        font-size: 2rem;
        height: 59px;
        width: 90%;
      }

      &::-webkit-input-placeholder {
        font-family: CHOpenSans;
        color: $gray-text;
        font-weight: $font-weight-light;
        padding-right: 0;
      }

      &::-moz-placeholder {
        font-family: CHOpenSans;
        color: $gray-text;
        font-weight: $font-weight-light;
        padding-right: 0;
      }

      &:-ms-input-placeholder {
        font-family: CHOpenSans;
        color: $gray-text;
        font-weight: $font-weight-light;
      }

      /* WebKit browsers */
      &:focus::-webkit-input-placeholder { color:transparent; }

      /* Mozilla Firefox 4 to 18 */
      &:focus:-moz-placeholder { color:transparent; }

      /* Mozilla Firefox 19+ */
      &:focus::-moz-placeholder { color:transparent; }

      /* Internet Explorer 10+ */
      &:focus:-ms-input-placeholder { color:transparent; }

    }

    .filter-buttons {
      float: right;
      padding-bottom: 3px;
      @media screen and(max-width: $lg-breakpoint){
        padding-top: 5px;
        padding-bottom: 3px;
        padding-right: 0px;
      }
      @media (max-width: $sm-breakpoint) {
        button {
          background-color: transparent;
          border: 0;
          position: relative;
          top: -2px;
          .filter-button-container {
            .ch-icon.filter-icon {
              width: 25px;
              height: 25px;
            }
            &.open {
              .ch-icon.filter-icon { fill: $gray-text !important; opacity: 1}
            }
            &.closed {
              .ch-icon.filter-icon { fill: $gray-text !important; opacity: 0.5}
            }
          }
          &:hover {
            .ch-icon.filter-icon { fill: $gray-text !important; opacity: 1}
          }
        }
      }

      button {
        &.apply {
          margin-left: 10px;
        }

        .filter-button-container {
          display: inline-flex;
          height: 5px;
          .left-span {
            float: right;
            position: relative;
            padding-right: 18px;
            margin-left: -2px;
            display: none;
            @media all and (min-width: $sm-breakpoint){
              display: block;
              &:after {
                content: ' ';
                position: absolute;
                right: 0;
                top: 7px;
                width: 9px;
                height: 5px;
                border-radius: 2px;
                border-left: 5px solid transparent;
                border-right: 5px solid transparent;
              }
            }
          }
          .filter-icon {
            width: 20px;
            height: 20px;
            opacity: 0.5;
            @media all and (min-width: $sm-breakpoint){
              margin-right: 10px;
            }
            display: inline-block;
            &.filters-selected {
              background: $turquoise;
              border-radius: 10px;
              padding: 3px;
              opacity: 1;
              fill: white;
            }
          }
          &.open .left-span:after{
            top: 7px;
            border-bottom: 5px solid $gray-dark;
          }
          &.closed .left-span:after{
            border-top: 5px solid $gray-dark;
          }
        }

        &:hover .filter-button-container {
          &.open .left-span:after{
            border-bottom: 5px solid white;
          }
          &.closed .left-span:after{
            border-top: 5px solid white;
          }

          svg.filter-icon {
            fill: #ffffff;
            opacity: 1;
          }
        }

        &.selected {}
      }
    }

/// LANDING PAGE STYLES
    &.initial-mode {
      .input-group-btn {
        &.filter-btn {
          width: 50px;
        }
        form {
          font-size: 0.75rem;
          @media screen and (min-width: $iphone5-breakpoint){
            padding-right: 5px;
          }
          @media screen and (min-width: $iphone6-breakpoint){
            padding-right: 10px;
          }
          @media screen and (min-width: $md-breakpoint) {
            padding-left: 15px;
            padding-top: 10px;
          }

          input {
            font-size: 1.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            @media screen and (min-width: $sm-breakpoint){
              font-size: 2rem;
            }

            @media screen and (min-width: $tablet-horizontal){
              font-size: 2.5rem;
            }
          }
        }

        // For firefox browsers only
        @-moz-document url-prefix() {
          .search-button {
            margin-bottom: 24px !important;
            @media (max-width: $sm-breakpoint){
              margin-bottom: 7px !important;
            }
          }
        }

        .x-close {
          height: 20px;
          width: 20px;
          margin-bottom: -7px;
          fill: #bdbebf;
          margin-right: 10px;
          @media screen and (max-width: 425px){
            width: 20px;
            height: 20px;
            background-size: 20px 20px;
            margin-bottom: 0px;
          }
          @media screen and (min-width: $sm-breakpoint){
            display: none;
          }
          &:hover {
            fill:#78797c;
          }
        }
      }
    }

/// RESULTS PAGE STYLES
    &.card-mode {
      border-bottom: 1px solid $gray-dark;
      padding-top: 15px;

      .search-input {
        position: table-cell;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        @-moz-document url-prefix() {
          // padding-top: 8px;
        }
        input.form-control {
          display: block;
          padding: 0px 15px 0 0;
          font-size: 1.25rem;
          background: #ffffff;
          height: auto;
          &::-ms-clear {
            width : 0;
            height: 0;
          }
        }
      }

      .search-button {
        width: 24px;
        height: 24px;
        margin-left: 0px;
        margin-right: 10px;
        margin-bottom: 0px;
        @media screen and (min-width: $lg-breakpoint){
          margin-bottom: 0px;
        }
      }

      .x-close {
        z-index: 3;
        height: 16px;
        width: 16px;
        margin-bottom: -2px;
        fill: #bdbebf;
        margin-right: 10px;
        @media screen and (max-width: 425px){
          width: 16px;
          height: 16px;
        }
        @media screen and (min-width: $sm-breakpoint){
          display: none;
        }
        &:hover {
          fill:#78797c;
        }
      }
    }

    .compareText {
      padding-left: 20px;
    }

    .glyphicon {
      position: initial;
    }
  }
}
